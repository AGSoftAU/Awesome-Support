/**
 * Featherlight - ultra slim jQuery lightbox
 * Version 1.0.3 - http://noelboss.github.io/featherlight/
 *
 * Copyright 2014, NoÃ«l Raoul Bossart (http://www.noelboss.com)
 * MIT Licensed.
**/
!function(a){"use strict";function b(a,c){if(!(this instanceof b)){var d=new b(a,c);return d.open(),d}this.id=b.id++,this.setup(a,c),this.chainCallbacks(b._callbackChain)}if("undefined"==typeof a)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var c=function(a){if(!a.isDefaultPrevented()){var c=b.current();c&&c.onKeyDown(a)}};b.prototype={constructor:b,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",otherClose:null,beforeOpen:a.noop,beforeContent:a.noop,beforeClose:a.noop,afterOpen:a.noop,afterContent:a.noop,afterClose:a.noop,onKeyDown:a.noop,type:null,contentFilters:["jquery","image","html","ajax","text"],setup:function(b,c){"object"!=typeof b||b instanceof a!=!1||c||(c=b,b=void 0);var d=a.extend(this,c,{target:b}),e=d.resetCss?d.namespace+"-reset":d.namespace,f=a(d.background||['<div class="'+e+'">','<div class="'+e+'-content">','<span class="'+e+"-close-icon "+d.namespace+'-close">',d.closeIcon,"</span>",'<div class="'+d.namespace+'-inner"></div>',"</div>","</div>"].join("")),g="."+d.namespace+"-close"+(d.otherClose?","+d.otherClose:"");return d.$instance=f.clone().addClass(d.variant),d.$instance.on(d.closeTrigger+"."+d.namespace,function(b){var c=a(b.target);("background"===d.closeOnClick&&c.is("."+d.namespace)||"anywhere"===d.closeOnClick||c.is(g))&&(b.preventDefault(),d.close())}),this},getContent:function(){var b=this,c=this.constructor.contentFilters,d=function(a){return b.$currentTarget&&b.$currentTarget.attr(a)},e=d(b.targetAttr),f=b.target||e||"",g=c[b.type];if(!g&&f in c&&(g=c[f],f=b.target&&e),f=f||d("href")||"",!g)for(var h in c)b[h]&&(g=c[h],f=b[h]);if(!g){var i=f;if(f=null,a.each(b.contentFilters,function(){return g=c[this],g.test&&(f=g.test(i)),!f&&g.regex&&i.match&&i.match(g.regex)&&(f=i),!f}),!f)return"console"in window&&window.console.error("Featherlight: no content filter found "+(i?' for "'+i+'"':" (no target specified)")),!1}return g.process.call(b,f)},setContent:function(b){var c=this;return(b.is("iframe")||a("iframe",b).length>0)&&c.$instance.addClass(c.namespace+"-iframe"),c.$content=b.addClass(c.namespace+"-inner"),c.$instance.find("."+c.namespace+"-inner").slice(1).remove().end().replaceWith(c.$content),c},open:function(d){var e=this;if(!(d&&d.isDefaultPrevented()||e.beforeOpen(d)===!1)){d&&d.preventDefault();var f=e.getContent();if(f)return e.constructor._opened.add(e._openedCallback=function(a,b){e instanceof a&&e.$instance.closest("body").length>0&&(b.currentFeatherlight=e)}),b._keyHandlerInstalled||(a(document).on("keyup."+b.prototype.namespace,c),b._keyHandlerInstalled=!0),e.$instance.appendTo(e.root).fadeIn(e.openSpeed),e.beforeContent(d),a.when(f).done(function(b){e.setContent(b),e.afterContent(d),a.when(e.$instance.promise()).done(function(){e.afterOpen(d)})}),e}return!1},close:function(d){var e=this;return e.beforeClose(d)===!1?!1:(e.constructor._opened.remove(e._openedCallback),b.current()||(a(document).off("keyup."+b.namespace,c),e.constructor._keyHandlerInstalled=!1),void e.$instance.fadeOut(e.closeSpeed,function(){e.$instance.detach(),e.afterClose(d)}))},chainCallbacks:function(b){for(var c in b)this[c]=a.proxy(b[c],this,a.proxy(this[c],this))}},a.extend(b,{id:0,autoBind:"[data-featherlight]",defaults:b.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(b){return b instanceof a&&b},process:function(b){return a(b).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp)(\?\S*)?$/i,process:function(b){var c=this,d=a.Deferred(),e=new Image;return e.onload=function(){d.resolve(a('<img src="'+b+'" alt="" class="'+c.namespace+'-image" />'))},e.onerror=function(){d.reject()},e.src=b,d.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(b){return a(b)}},ajax:{regex:/./,process:function(b){var c=a.Deferred(),d=a("<div></div>").load(b,function(a,b){"error"!==b&&c.resolve(d.contents()),c.fail()});return c.promise()}},text:{process:function(b){return a("<div>",{text:b})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(b){var c=this,d={};return b&&b.attributes&&a.each(b.attributes,function(){var b=this.name.match(/^data-featherlight-(.*)/);if(b){var e=this.value,f=a.camelCase(b[1]);if(a.inArray(f,c.functionAttributes)>=0)e=new Function(e);else try{e=a.parseJSON(e)}catch(g){}d[f]=e}}),d},extend:function(b,c){var d=function(){this.constructor=b};return d.prototype=this.prototype,b.prototype=new d,b.__super__=this.prototype,a.extend(b,this,c),b.defaults=b.prototype,b},attach:function(b,c,d){var e=this;"object"!=typeof c||c instanceof a!=!1||d||(d=c,c=void 0),d=a.extend({},d);var f=a.extend({},e.defaults,e.readElementConfig(b[0]),d);return b.on(f.openTrigger+"."+f.namespace,f.filter,function(f){var g=a.extend({$source:b,$currentTarget:a(this)},e.readElementConfig(b[0]),e.readElementConfig(this),d);new e(c,g).open(f)}),b},current:function(){var a={};return this._opened.fire(this,a),a.currentFeatherlight},close:function(){var a=this.current();a&&a.close()},_onReady:function(){var b=this;b.autoBind&&(b.attach(a(document),{filter:b.autoBind}),a(b.autoBind).filter("[data-featherlight-filter]").each(function(){b.attach(a(this))}))},_callbackChain:{onKeyDown:function(a,b){return 27===b.keyCode&&this.closeOnEsc?(this.$instance.find("."+this.namespace+"-close:first").click(),void b.preventDefault()):(console.log("pass"),a(b))}},_opened:a.Callbacks()}),a.featherlight=b,a.fn.featherlight=function(a,c){return b.attach(this,a,c)},a(document).ready(function(){b._onReady()})}(jQuery);!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(function(t,e){function s(e,s){this.element=t(e),this.wrapperElement=t(),this.toggleElement=t(),this.init(s)}var o="plugin_hideShowPassword",i=["show","innerToggle"],n=32,a=13,h=function(){var t=document.body,e=document.createElement("input"),s=!0;t||(t=document.createElement("body")),e=t.appendChild(e);try{e.setAttribute("type","text")}catch(o){s=!1}return t.removeChild(e),s}(),r={show:"infer",innerToggle:!1,enable:h,className:"hideShowPassword-field",initEvent:"hideShowPasswordInit",changeEvent:"passwordVisibilityChange",props:{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:"false"},toggle:{element:'<button type="button">',className:"hideShowPassword-toggle",touchSupport:"undefined"==typeof Modernizr?!1:Modernizr.touch,attachToEvent:"click",attachToTouchEvent:"touchstart mousedown",attachToKeyEvent:"keyup",attachToKeyCodes:!0,styles:{position:"absolute"},touchStyles:{pointerEvents:"none"},position:"infer",verticalAlign:"middle",offset:0,attr:{role:"button","aria-label":"Show Password",tabIndex:0}},wrapper:{element:"<div>",className:"hideShowPassword-wrapper",enforceWidth:!0,styles:{position:"relative"},inheritStyles:["display","verticalAlign","marginTop","marginRight","marginBottom","marginLeft"],innerElementStyles:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}},states:{shown:{className:"hideShowPassword-shown",changeEvent:"passwordShown",props:{type:"text"},toggle:{className:"hideShowPassword-toggle-hide",content:"Hide",attr:{"aria-pressed":"true"}}},hidden:{className:"hideShowPassword-hidden",changeEvent:"passwordHidden",props:{type:"password"},toggle:{className:"hideShowPassword-toggle-show",content:"Show",attr:{"aria-pressed":"false"}}}}};s.prototype={init:function(e){this.update(e,r)&&(this.element.addClass(this.options.className),this.options.innerToggle&&(this.wrapElement(this.options.wrapper),this.initToggle(this.options.toggle),"string"==typeof this.options.innerToggle&&(this.toggleElement.hide(),this.element.one(this.options.innerToggle,t.proxy(function(){this.toggleElement.show()},this)))),this.element.trigger(this.options.initEvent,[this]))},update:function(t,e){return this.options=this.prepareOptions(t,e),this.updateElement()&&this.element.trigger(this.options.changeEvent,[this]).trigger(this.state().changeEvent,[this]),this.options.enable},toggle:function(t){return t=t||"toggle",this.update({show:t})},prepareOptions:function(e,s){var o,i=[];if(s=s||this.options,e=t.extend(!0,{},s,e),e.enable&&("toggle"===e.show?e.show=this.isType("hidden",e.states):"infer"===e.show&&(e.show=this.isType("shown",e.states)),"infer"===e.toggle.position&&(e.toggle.position="rtl"===this.element.css("text-direction")?"left":"right"),!t.isArray(e.toggle.attachToKeyCodes))){if(e.toggle.attachToKeyCodes===!0)switch(o=t(e.toggle.element),o.prop("tagName").toLowerCase()){case"button":case"input":break;case"a":if(o.filter("[href]").length){i.push(n);break}default:i.push(n,a)}e.toggle.attachToKeyCodes=i}return e},updateElement:function(){return!this.options.enable||this.isType()?!1:(this.element.prop(t.extend({},this.options.props,this.state().props)).addClass(this.state().className).removeClass(this.otherState().className),this.updateToggle(),!0)},isType:function(t,s){return s=s||this.options.states,t=t||this.state(e,e,s).props.type,s[t]&&(t=s[t].props.type),this.element.prop("type")===t},state:function(t,s,o){return o=o||this.options.states,t===e&&(t=this.options.show),"boolean"==typeof t&&(t=t?"shown":"hidden"),s&&(t="shown"===t?"hidden":"shown"),o[t]},otherState:function(t){return this.state(t,!0)},wrapElement:function(e){var s,o=e.enforceWidth;return this.wrapperElement.length||(s=this.element.outerWidth(),t.each(e.inheritStyles,t.proxy(function(t,s){e.styles[s]=this.element.css(s)},this)),this.element.css(e.innerElementStyles).wrap(t(e.element).addClass(e.className).css(e.styles)),this.wrapperElement=this.element.parent(),o===!0&&(o=this.wrapperElement.outerWidth()===s?!1:s),o!==!1&&this.wrapperElement.css("width",o)),this.wrapperElement},initToggle:function(e){return this.toggleElement.length||(this.toggleElement=t(e.element).attr(e.attr).addClass(e.className).css(e.styles).appendTo(this.wrapperElement),this.updateToggle(),this.positionToggle(e.position,e.verticalAlign,e.offset),e.touchSupport?(this.toggleElement.css(e.touchStyles),this.element.on(e.attachToTouchEvent,t.proxy(this.toggleTouchEvent,this))):this.toggleElement.on(e.attachToEvent,t.proxy(this.toggleEvent,this)),e.attachToKeyCodes.length&&this.toggleElement.on(e.attachToKeyEvent,t.proxy(this.toggleKeyEvent,this))),this.toggleElement},positionToggle:function(t,e,s){var o={};switch(o[t]=s,e){case"top":case"bottom":o[e]=s;break;case"middle":o.top="50%",o.marginTop=this.toggleElement.outerHeight()/-2}return this.toggleElement.css(o)},updateToggle:function(t,e){var s,o;return this.toggleElement.length&&(s="padding-"+this.options.toggle.position,t=t||this.state().toggle,e=e||this.otherState().toggle,this.toggleElement.attr(t.attr).addClass(t.className).removeClass(e.className).html(t.content),o=this.toggleElement.outerWidth()+2*this.options.toggle.offset,this.element.css(s)!==o&&this.element.css(s,o)),this.toggleElement},toggleEvent:function(t){t.preventDefault(),this.toggle()},toggleKeyEvent:function(e){t.each(this.options.toggle.attachToKeyCodes,t.proxy(function(t,s){return e.which===s?(this.toggleEvent(e),!1):void 0},this))},toggleTouchEvent:function(t){var e,s,o,i=this.toggleElement.offset().left;i&&(e=t.pageX||t.originalEvent.pageX,"left"===this.options.toggle.position?(i+=this.toggleElement.outerWidth(),s=e,o=i):(s=i,o=e),o>=s&&this.toggleEvent(t))}},t.fn.hideShowPassword=function(){var e={};return t.each(arguments,function(s,o){var n={};if("object"==typeof o)n=o;else{if(!i[s])return!1;n[i[s]]=o}t.extend(!0,e,n)}),this.each(function(){var i=t(this),n=i.data(o);n?n.update(e):i.data(o,new s(this,e))})},t.each({show:!0,hide:!1,toggle:"toggle"},function(e,s){t.fn[e+"Password"]=function(t,e){return this.hideShowPassword(s,t,e)}})},this);
;!function(t){"use strict";t(function(){if(t(".wpas-form").submit("undefined"!=typeof tinyMCE?function(){var i=t('[type="submit"]',t(this)),e=tinyMCE.activeEditor.getContent();return""===e||null===e?(t(tinyMCE.activeEditor.getBody()).css("background-color","#ffeeee"),alert("You can't submit an empty ticket reply."),t(tinyMCE.activeEditor.getBody()).css("background-color",""),tinyMCE.activeEditor.focus(),!1):void i.prop("disabled",!0).text(i.data("onsubmit"))}:function(){var i=t('[type="submit"]',t(this));i.prop("disabled",!0).text(i.data("onsubmit"))}),t(".wpas-modal-trigger").featherlight(),t('input[name="pwdshow"]').change(function(){t("#password").hideShowPassword(t(this).prop("checked"))}),"undefined"!=typeof wpas&&wpas.emailCheck){var i=t('input[name="email"]'),e=t("#email-validation");i.change(function(){var a={action:"email_validation",email:i.val()};t.post(wpas.ajaxurl,a,function(t){e.html(t).show()})}),e.on("click","strong",function(){i.val(t(this).html()),e.hide()})}})}(jQuery);
